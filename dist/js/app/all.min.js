/*! buttons 2013-09-01 */
!function(a,b,c){"use strict";function d(b,c){this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.$element=a(b),this.init()}var e="menuButton",f={propertyName:"value"};d.prototype={constructor:d,init:function(){this.toggle()},toggle:function(){"show"===this.$element.data("dropdown")?this.hideMenu():this.showMenu()},showMenu:function(){this.$element.data("dropdown","show"),this.$element.find("ul").show(),this.$overlay?this.$overlay.show():(this.$overlay=a('<div class="button-overlay"></div>'),this.$element.append(this.$overlay))},hideMenu:function(){this.$element.data("dropdown","hide"),this.$element.find("ul").hide(),this.$overlay.hide()}},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)?a.data(this,"plugin_"+e).toggle():a.data(this,"plugin_"+e,new d(this,b))})},a(c).on("click","[data-buttons=dropdown]",function(b){var c=a(b.currentTarget);c.menuButton()}),a(c).on("click","[data-buttons=dropdown] > a",function(a){a.preventDefault()})}(jQuery,window,document),function(){"use strict";Backbone.emulateHTTP=!0,Backbone.sync=function(a,b,c){c=c||{};var d=b.generate(),e={type:"POST",dataType:"jsonp",data:d,url:b.url},d=_.extend(e,c);return $.ajax(d)},window.Unicorn={Models:{},Views:{},Utils:{}}}(),function(){"use strict";Unicorn.Models.Base=Backbone.Model.extend({module:"",url:"",blackList:["css","options"],initialize:function(){},parse:function(a){var b={css:"",options:""};return a&&a[this.module]&&a.optionsScss&&(b.css=a[this.module],b.options=a.optionsScss),b},generate:function(){throw new Error("Generate not implemented!")},generateSimpleProperty:function(a,b,c){return a&&b?c?a+": '"+b+"';":a+": "+b+";":void 0}}),Unicorn.Models.Button=Unicorn.Models.Base.extend({module:"buttons",url:"http://localhost:5000/build/buttons",defaults:function(){return{"$uni-btn-namespace":".button","$uni-btn-glow_namespace":".glow","$uni-btn-glow_color":"#2c9adb","$uni-btn-bgcolor":"#CCC","$uni-btn-height":"32px","$uni-btn-font-color":"#666","$uni-btn-font-size":"14px","$uni-btn-font-weight":"300","$uni-btn-font-family":"'HelveticaNeue-Light', 'Helvetica Neue Light', 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif","$uni-btn-dropdown-background":"#fcfcfc","$uni-btn-dropdown-link-color":"#333","$uni-btn-dropdown-link-hover":"#FFF","$uni-btn-dropdown-link-hover-background":"#3c6ab9","$uni-btn-button_actions":{primary:"#00A1CB #FFF",action:"#7db500 #FFF",highlight:"#F18D05 #FFF",caution:"#E54028 #FFF",royal:"#87318C #FFF"},"$uni-btn-button_styles":["rounded","pill","circle","dropdown","glow","flat"],"$uni-btn-button_sizes":["large","small","tiny"],"$uni-btn-circle-size":"120px"}},generate:function(){var a=this,b=[],c=this.toJSON(),d=this.blackList.concat(["$uni-btn-button_actions","$uni-btn-button_sizes","$uni-btn-button_styles"]),e=["$uni-btn-namespace","$uni-btn-glow_namespace"],f=_.omit(c,d);_.each(_.omit(f,e),function(c,d){b.push(a.generateSimpleProperty(d,c))}),_.each(_.pick(f,e),function(c,d){b.push(a.generateSimpleProperty(d,c,!0))});var g="";_.each(c["$uni-btn-button_actions"],function(a,b){g+="('"+b+"' "+a+") "}),g+=";",b.push("$uni-btn-button_actions: "+g);var h="";_.each(c["$uni-btn-button_styles"],function(a){h+="'"+a+"' "}),h+=";",b.push("$uni-btn-button_styles: "+h);var i="";return _.each(c["$uni-btn-button_sizes"],function(a){i+="'"+a+"' "}),i+=";",b.push("$uni-btn-button_sizes: "+i),{name:this.module,_options:b.join("\n")}}})}(),function(){"use strict";Unicorn.Views.Menu=Backbone.View.extend({events:{"click .button-download a":"download","click .button-jsonp a":"build"},initialize:function(){this.listenTo(this.model,"change",this.updateComplete),this.render()},render:function(){return this},updateComplete:function(){var a=this.model.toJSON();console.log(a)},build:function(a){a.preventDefault(),this.model.save()},download:function(a){a.preventDefault();var b="http://localhost:5000/download/buttons?",c=this.model.generate("buttons");b+=$.param(c),console.log("URL: ",b),window.open(b,"Download")}})}(),function(){"use strict";Unicorn.Views.Showcase=Backbone.View.extend({initialize:function(){this.codebox=this.$("pre"),this.gallery=this.$(".gallery"),this.listenTo(this.model,"change",this.render)},render:function(){var a=this.model.toJSON();return this.updateButtons(a),this.updateCodePreview(a),this},updateButtons:function(){},updateCodePreview:function(){var a=this._encodeHTML(this.gallery.html());this.codebox.html(a),prettyPrint()},_encodeHTML:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}})}(),function(){"use strict";Unicorn.Views.App=Backbone.View.extend({initialize:function(){this.listenTo(this.model,"change",this.updateGlobalStyles),this.render()},render:function(){return this.menubar=new Unicorn.Views.Menu({el:$(".menu-bar"),model:this.model}),this.showcases=$(".showcase"),_.each(this.showcases,this.createShowCase,this),this},createShowCase:function(a){new Unicorn.Views.Showcase({model:this.model,el:a})},updateGlobalStyles:function(){var a=this.model.get("css"),b=$("#custom-styles");b.text(a),prettyPrint()}}),$(document).ready(function(){prettyPrint(),new Unicorn.Views.App({model:new Unicorn.Models.Button})})}(),$(document).ready(function(){var a={init:function(){this.buttons=$("#main-nav a"),this.activateNav(),this.disableDemoButtons()},activateNav:function(){var a=this;this.buttons.click(function(b){b.preventDefault();var c=$(b.currentTarget),d=c.attr("href");a.buttons.parent().removeClass("selected"),c.parent().addClass("selected"),$("html, body").animate({scrollTop:$(d).offset().top-100},"slow")})},disableDemoButtons:function(){$(".showcase [href^=#]").on("click",function(a){a.preventDefault()})}};a.init()});